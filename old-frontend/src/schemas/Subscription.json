{
  "name": "Subscription",
  "type": "object",
  "properties": {
    "customer_id": {
      "type": "string",
      "description": "ID do cliente (usuário)"
    },
    "team_id": {
      "type": "string",
      "description": "ID da empresa"
    },
    "delivery_area_id": {
      "type": "string",
      "description": "ID da área de entrega"
    },
    "delivery_address": {
      "type": "object",
      "properties": {
        "street": {
          "type": "string"
        },
        "number": {
          "type": "string"
        },
        "complement": {
          "type": "string"
        },
        "neighborhood": {
          "type": "string"
        },
        "city": {
          "type": "string"
        },
        "state": {
          "type": "string"
        },
        "zip_code": {
          "type": "string"
        },
        "reference": {
          "type": "string"
        }
      }
    },
    "monthly_price": {
      "type": "number",
      "description": "Valor mensal total da assinatura (calculado baseado nos itens)"
    },
    "status": {
      "type": "string",
      "enum": [
        "active",
        "paused",
        "cancelled",
        "pending_payment",
        "past_due",
        "trial"
      ],
      "default": "pending_payment"
    },
    "start_date": {
      "type": "string",
      "format": "date",
      "description": "Data de início da assinatura"
    },
    "next_billing_date": {
      "type": "string",
      "format": "date",
      "description": "Data da próxima cobrança mensal"
    },
    "cancellation_date": {
      "type": "string",
      "format": "date",
      "description": "Data de cancelamento"
    },
    "stripe_subscription_id": {
      "type": "string",
      "description": "ID da assinatura no Stripe (sub_...)"
    },
    "special_instructions": {
      "type": "string",
      "description": "Instruções especiais para entrega"
    }
  },
  "required": [
    "customer_id",
    "team_id",
    "delivery_area_id",
    "monthly_price",
    "start_date",
    "next_billing_date"
  ]
}