{
  "name": "TicketMessage",
  "type": "object",
  "properties": {
    "ticket_id": {
      "type": "string",
      "description": "ID do ticket"
    },
    "sender_id": {
      "type": "string",
      "description": "ID do usuário que enviou a mensagem"
    },
    "sender_type": {
      "type": "string",
      "enum": [
        "customer",
        "business",
        "admin"
      ],
      "description": "Tipo do remetente"
    },
    "message": {
      "type": "string",
      "description": "Conteúdo da mensagem"
    },
    "attachment_url": {
      "type": "string",
      "description": "URL de anexo (imagem, documento, etc.)"
    },
    "is_internal": {
      "type": "boolean",
      "default": false,
      "description": "Se é uma nota interna (não visível ao cliente)"
    }
  },
  "required": [
    "ticket_id",
    "sender_id",
    "sender_type",
    "message"
  ]
}